"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[769],{9769:(s,e,r)=>{r.r(e),r.d(e,{default:()=>_});var o=r(2791),n=r(8687),t=r(97),l=r(946),i=r(1087);const a="Users_userContainer__LZHFK",g="Users_userPhoto__84JV4",u="Users_button__nY7kz",c="Users_selectedPage__-N-9O";var p=r(4147),h=r(184);const d=s=>{let e=Math.ceil(s.totalUsersCount/s.pageSize),r=[];if(s.currentPage<=5)for(let o=1;o<=10;o++)r.push(o);if(s.currentPage>5&&s.currentPage<e-5)for(let o=s.currentPage-5;o<=s.currentPage+5;o++)r.push(o);if(s.currentPage>=e-5&&s.currentPage<=e)for(let o=e-10;o<e;o++)r.push(o);return r.push(e),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:r.map(((e,r)=>(0,h.jsx)("span",{className:s.currentPage===e&&c,onClick:()=>{s.onPageChanged(e)},children:e+"  "},r)))}),s.users.map((e=>(0,h.jsxs)("div",{className:a,children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)(i.OL,{to:"/profile/"+e.id,children:(0,h.jsx)("img",{src:null!=e.photos.small?e.photos.small:p,alt:"photo",className:g})})}),(0,h.jsx)("div",{className:u,children:e.followed?(0,h.jsx)("button",{disabled:s.followingInProgress,onClick:()=>{s.unfollow(e.id)},children:"unfollow"}):(0,h.jsx)("button",{disabled:s.followingInProgress,onClick:()=>{s.follow(e.id)},children:"Follow"})})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:e.name}),(0,h.jsx)("div",{children:e.status})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"u.location.country"}),(0,h.jsx)("div",{children:"u.location.sity"})]})]})]},e.id))),(0,h.jsx)("div",{children:r.map(((e,r)=>(0,h.jsx)("span",{className:s.currentPage===e&&c,onClick:()=>{s.onPageChanged(e)},children:e+"  "},r)))})]})};var P=r(7971),f=r(6249);const j=s=>s.usersPage.users,x=s=>s.usersPage.pageSize,C=s=>s.usersPage.totalUsersCount,w=s=>s.usersPage.currentPage,v=s=>s.usersPage.isFetching,m=s=>s.usersPage.followingInProgress;class U extends o.Component{constructor(){super(...arguments),this.onPageChanged=s=>{this.props.setCurrentPage(s),this.props.getUsers(s,this.props.pageSize)}}componentDidMount(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}render(){return(0,h.jsxs)(h.Fragment,{children:[this.props.isFetching?(0,h.jsx)(P.Z,{}):null,(0,h.jsx)(d,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,onPageChanged:this.onPageChanged,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress,setCurrentPage:this.props.setCurrentPage})]})}}const _=(0,t.qC)((0,n.$j)((s=>({users:j(s),pageSize:x(s),totalUsersCount:C(s),currentPage:w(s),isFetching:v(s),followingInProgress:m(s)})),{follow:l.ZN,unfollow:l.fv,setUsers:l.HM,setCurrentPage:l.D4,setTotalUsersCount:l.K1,toggleFollowingProgress:l.ZH,getUsers:l.Rf,togglePreloader:l.lP}),f.Z)(U)}}]);
//# sourceMappingURL=769.3b083103.chunk.js.map